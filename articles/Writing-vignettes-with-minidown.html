<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Writing Vignettes with the 'minidown' Package • minidown</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Writing Vignettes with the 'minidown' Package">
<meta property="og:description" content="minidown">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">minidown</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../../index.html">Demo</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/Writing-vignettes-with-minidown.html">Writing Vignettes with the 'minidown' Package</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/atusy/minidown/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="Writing-vignettes-with-minidown_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Writing Vignettes with the ‘minidown’ Package</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/atusy/minidown/blob/master/vignettes/Writing-vignettes-with-minidown.Rmd"><code>vignettes/Writing-vignettes-with-minidown.Rmd</code></a></small>
      <div class="hidden name"><code>Writing-vignettes-with-minidown.Rmd</code></div>

    </div>

    
    
<p>The <code><a href="../reference/mini_document.html">minidown::mini_document</a></code> function provides simple and lightweight yet powerful HTML format. Even if all features are enabled, the size of document is comparable with the default <code>html_vignette</code> function.</p>
<div id="how-easy-it-is" class="section level1">
<h1 class="hasAnchor">
<a href="#how-easy-it-is" class="anchor"></a>How easy it is!</h1>
<p>Only the difference is the YAML frontmatter.</p>
<div id="steps-to-go" class="section level2">
<h2 class="hasAnchor">
<a href="#steps-to-go" class="anchor"></a>3 steps to go</h2>
<ol style="list-style-type: decimal">
<li><p>Create an <code>Rmd</code> file under the <code>vignettes</code> directory</p></li>
<li>
<p>Add a YAML front matter something like below</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb1-1"><a href="#cb1-1"></a><span class="pp">---</span></span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">"Writing Vignette with the 'minidown' Package"</span></span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="fu">output</span><span class="kw">:</span><span class="at"> minidown::mini_document</span></span>
<span id="cb1-4"><a href="#cb1-4"></a><span class="fu">vignette</span><span class="kw">: </span><span class="ch">&gt;</span></span>
<span id="cb1-5"><a href="#cb1-5"></a>  %\VignetteIndexEntry{Writing Vignette with the 'minidown' Package}</span>
<span id="cb1-6"><a href="#cb1-6"></a>  %\VignetteEngine{knitr::rmarkdown}</span>
<span id="cb1-7"><a href="#cb1-7"></a>  %\VignetteEncoding{UTF-8}</span>
<span id="cb1-8"><a href="#cb1-8"></a><span class="pp">---</span></span></code></pre></div>
</li>
<li><p>Write body</p></li>
</ol>
</div>
<div id="details-on-the-yaml-front-matter" class="section level2">
<h2 class="hasAnchor">
<a href="#details-on-the-yaml-front-matter" class="anchor"></a>Details on the YAML front matter</h2>
<p>Only the special thing is the YAML front matter. Most important things are <code><a href="../reference/mini_document.html">minidown::mini_document</a></code> in the <code>output</code> key, and <code>%\VignetteEngine{knitr::rmarkdown}</code> in the <code>vignette</code> key. These two declares the vignette to be rendered with <strong>minidown</strong> package.</p>
<p>The output format can be customized as usual in the R Markdown. Break lines, indent, and specify arguments like below.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb2-1"><a href="#cb2-1"></a><span class="fu">output</span><span class="kw">:</span></span>
<span id="cb2-2"><a href="#cb2-2"></a><span class="at">  minidown:</span><span class="fu">:mini_document</span><span class="kw">:</span></span>
<span id="cb2-3"><a href="#cb2-3"></a><span class="at">    </span><span class="fu">framework</span><span class="kw">:</span><span class="at"> sakura</span></span>
<span id="cb2-4"><a href="#cb2-4"></a><span class="at">    </span><span class="fu">theme</span><span class="kw">:</span><span class="at"> default</span></span>
<span id="cb2-5"><a href="#cb2-5"></a><span class="at">    </span><span class="fu">toc</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb2-6"><a href="#cb2-6"></a><span class="at">    </span><span class="fu">toc_float</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb2-7"><a href="#cb2-7"></a><span class="at">    </span><span class="fu">toc_highlight</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb2-8"><a href="#cb2-8"></a><span class="at">    </span><span class="fu">code_folding</span><span class="kw">:</span><span class="at"> </span><span class="st">"hide"</span></span>
<span id="cb2-9"><a href="#cb2-9"></a><span class="at">    </span><span class="fu">results_folding</span><span class="kw">:</span><span class="at"> </span><span class="st">"show"</span></span>
<span id="cb2-10"><a href="#cb2-10"></a><span class="at">    </span><span class="fu">tabset</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb2-11"><a href="#cb2-11"></a><span class="at">    </span><span class="fu">code_download</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb2-12"><a href="#cb2-12"></a><span class="at">    </span><span class="fu">math</span><span class="kw">:</span><span class="at"> </span><span class="st">"katex"</span></span></code></pre></div>
<p>Note that the <code>framework</code> and <code>theme</code> keys control appearance of the rendered document. The default framework is “sakura”, but there are some more like “water” and “spcss”. Each frameworks also have their own themes. For more details on options, visit <a href="https://minidown.atusy.net/" class="uri">https://minidown.atusy.net/</a>. This page also provides examples of all the combinations of frameworks and themes.</p>
<p>The other contents of the YAML front matter are not <strong>minidown</strong>-specific.<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a>.</p>
</div>
</div>
<div id="why-authoring-vignettes-with-the-minidown-package" class="section level1">
<h1 class="hasAnchor">
<a href="#why-authoring-vignettes-with-the-minidown-package" class="anchor"></a>Why authoring vignettes with the minidown package?</h1>
<p>Because the <code><a href="../reference/mini_document.html">minidown::mini_document</a></code> function provides simple and lightweight yet powerful HTML format.</p>
<p>The <strong>rmarkdown</strong> package provides the <code>html_vignette</code> function as a lightweight format suitable for creating vignettes. As the document says, the <code>html_vignette</code> provides much lighter document than the <code>html_document</code> document. The <code>html_vignette</code> loses weight by omitting Bootstrap and jQuery from <code>html_document</code>, which in turn loses some nice appearance and features such as floating ToC and code folding. However, such features are very important for long format documents, i.e. vignettes.</p>
<p>The <code><a href="../reference/mini_document.html">minidown::mini_document</a></code> tries to provide as rich features as <code>html_document</code>. At the same time, it tries to be as light as <code>html_vignette</code>.</p>
<div id="rich-opt-in-features" class="section level2">
<h2 class="hasAnchor">
<a href="#rich-opt-in-features" class="anchor"></a>Rich opt-in features</h2>
<p>Almost all features are opt-in in the <code><a href="../reference/mini_document.html">minidown::mini_document</a></code> function. Authors can chose which feature to add with a subtle weight via the YAML front matter. For example,</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb3-1"><a href="#cb3-1"></a><span class="fu">output</span><span class="kw">:</span></span>
<span id="cb3-2"><a href="#cb3-2"></a><span class="at">  minidown:</span><span class="fu">:mini_document</span><span class="kw">:</span></span>
<span id="cb3-3"><a href="#cb3-3"></a><span class="at">    </span><span class="fu">toc</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb3-4"><a href="#cb3-4"></a><span class="at">    </span><span class="fu">toc_float</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb3-5"><a href="#cb3-5"></a><span class="at">    </span><span class="fu">toc_highlight</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb3-6"><a href="#cb3-6"></a><span class="at">    </span><span class="fu">code_folding</span><span class="kw">:</span><span class="at"> </span><span class="st">"hide"</span></span>
<span id="cb3-7"><a href="#cb3-7"></a><span class="at">    </span><span class="fu">results_folding</span><span class="kw">:</span><span class="at"> </span><span class="st">"show"</span></span>
<span id="cb3-8"><a href="#cb3-8"></a><span class="at">    </span><span class="fu">tabset</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb3-9"><a href="#cb3-9"></a><span class="at">    </span><span class="fu">code_download</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb3-10"><a href="#cb3-10"></a><span class="at">    </span><span class="fu">math</span><span class="kw">:</span><span class="at"> </span><span class="st">"katex"</span></span></code></pre></div>
<p>For more details, refer a help document by <code>?minidown::mini_documewnt</code>, or visit a document page which is a live example at the same time: <a href="https://minidown.atusy.net/" class="uri">https://minidown.atusy.net/</a>.</p>
</div>
<div id="light-weight" class="section level2">
<h2 class="hasAnchor">
<a href="#light-weight" class="anchor"></a>Light weight</h2>
<p>This section compares the size by compiling this document in variety of formats. There are two remarkable results.</p>
<ul>
<li>The <code><a href="../reference/mini_document.html">minidown::mini_document</a></code> function can even be lighter than the <code>html_vignette</code> function when <code>framework = "spcss"</code> is chosen.</li>
<li>The <code><a href="../reference/mini_document.html">minidown::mini_document</a></code> with full features gains very small weights (&lt; 20KB).</li>
</ul>
<table class="table">
<thead><tr class="header">
<th align="left">format</th>
<th align="right">size (KB)</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">html_vignette</td>
<td align="right">23.191</td>
</tr>
<tr class="even">
<td align="left">mini_document(framework = “spcss”)</td>
<td align="right">23.066</td>
</tr>
<tr class="odd">
<td align="left">mini_document() # default</td>
<td align="right">25.007</td>
</tr>
<tr class="even">
<td align="left">mini_document with full features</td>
<td align="right">37.580</td>
</tr>
<tr class="odd">
<td align="left">html_document</td>
<td align="right">635.941</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">render_size</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">output_format</span> <span class="op">=</span> <span class="fu">rmarkdown</span><span class="fu">::</span><span class="fu"><a href="https://pkgs.rstudio.com/rmarkdown/reference/html_vignette.html">html_vignette</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span>
  <span class="va">this_rmd</span> <span class="op">&lt;-</span> <span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/current_input.html">current_input</a></span><span class="op">(</span><span class="op">)</span>
  <span class="va">temp_html</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html">tempfile</a></span><span class="op">(</span>fileext <span class="op">=</span> <span class="st">".html"</span><span class="op">)</span>
  <span class="fu">callr</span><span class="fu">::</span><span class="fu"><a href="https://callr.r-lib.org/reference/r.html">r_safe</a></span><span class="op">(</span><span class="kw">function</span><span class="op">(</span><span class="va">...</span><span class="op">)</span> <span class="fu">rmarkdown</span><span class="fu">::</span><span class="fu"><a href="https://pkgs.rstudio.com/rmarkdown/reference/render.html">render</a></span><span class="op">(</span><span class="va">...</span><span class="op">)</span>,
                args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>input <span class="op">=</span> <span class="va">this_rmd</span>,
                            output_format <span class="op">=</span> <span class="va">output_format</span>,
                            output_file <span class="op">=</span> <span class="va">temp_html</span>,
                            params <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>eval_render <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>,
                            quiet <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span>
  <span class="fu"><a href="https://rdrr.io/r/base/file.info.html">file.size</a></span><span class="op">(</span><span class="va">temp_html</span><span class="op">)</span>
<span class="op">}</span>

<span class="va">formats</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>
  html_vignette <span class="op">=</span> <span class="fu">rmarkdown</span><span class="fu">::</span><span class="fu"><a href="https://pkgs.rstudio.com/rmarkdown/reference/html_vignette.html">html_vignette</a></span><span class="op">(</span><span class="op">)</span>,
  <span class="st">'mini_document(framework = "spcss")'</span> <span class="op">=</span> <span class="fu">minidown</span><span class="fu">::</span><span class="fu"><a href="../reference/mini_document.html">mini_document</a></span><span class="op">(</span>framework <span class="op">=</span> <span class="st">"spcss"</span><span class="op">)</span>,
  <span class="st">"mini_document() # default"</span> <span class="op">=</span> <span class="fu">minidown</span><span class="fu">::</span><span class="fu"><a href="../reference/mini_document.html">mini_document</a></span><span class="op">(</span><span class="op">)</span>,
  <span class="st">"mini_document with full features"</span> <span class="op">=</span> <span class="fu">minidown</span><span class="fu">::</span><span class="fu"><a href="../reference/mini_document.html">mini_document</a></span><span class="op">(</span>
    toc <span class="op">=</span> <span class="cn">TRUE</span>,
    toc_float <span class="op">=</span> <span class="cn">TRUE</span>,
    toc_highlight <span class="op">=</span> <span class="cn">TRUE</span>,
    code_folding <span class="op">=</span> <span class="st">"hide"</span>,
    tabset <span class="op">=</span> <span class="cn">TRUE</span>,
    code_download <span class="op">=</span> <span class="cn">TRUE</span>,
    math <span class="op">=</span> <span class="st">"katex"</span>
  <span class="op">)</span>,
  html_document <span class="op">=</span> <span class="fu">rmarkdown</span><span class="fu">::</span><span class="fu"><a href="https://pkgs.rstudio.com/rmarkdown/reference/html_document.html">html_document</a></span><span class="op">(</span><span class="op">)</span>
<span class="op">)</span>

<span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span><span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/enframe.html">enframe</a></span><span class="op">(</span>
  <span class="fu">purrr</span><span class="fu">::</span><span class="fu"><a href="https://purrr.tidyverse.org/reference/map.html">map_dbl</a></span><span class="op">(</span><span class="va">formats</span>, <span class="va">render_size</span><span class="op">)</span> <span class="op">/</span> <span class="fl">1000</span>,
  name <span class="op">=</span> <span class="st">"format"</span>,
  value <span class="op">=</span> <span class="st">"size (KB)"</span>
<span class="op">)</span><span class="op">)</span></code></pre></div>
<p>Note that if you are reading this vignette on CRAN, this page is the result of “mini_document with full features.” In that case, this page includes extra weight by providing download button which embeds source Rmd file (5.718KB).</p>
</div>
</div>
<div class="footnotes">
<hr>
<ol>
<li id="fn1"><p><a href="https://cran.r-project.org/doc/manuals/r-release/R-exts.html#Writing-package-vignettes" class="uri">https://cran.r-project.org/doc/manuals/r-release/R-exts.html#Writing-package-vignettes</a><a href="#fnref1" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Atsushi Yasumoto, Angelos Chalaris, Susam Pal, Mitesh Shah, Kognise.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
